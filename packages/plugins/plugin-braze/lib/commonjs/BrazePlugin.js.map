{"version":3,"names":["_analyticsReactNative","require","_reactNativeSdk","_interopRequireDefault","_flush","obj","__esModule","default","defaultProperties","network","campaign","adGroup","creative","BrazePlugin","DestinationPlugin","type","PluginType","destination","key","revenueEnabled","update","settings","_","brazeSettings","integrations","logPurchaseWhenRevenuePresent","sanitizeAttribute","value","isNumber","isString","isBoolean","isDate","Array","isArray","map","v","isObject","objectToString","undefined","identify","event","identical","lastSeenTraits","traits","deepCompare","userId","anonymousId","Braze","changeUser","birthday","Date","isNaN","getTime","data","setDateOfBirth","getFullYear","getMonth","getDate","analytics","logger","warn","email","setEmail","firstName","setFirstName","lastName","setLastName","gender","validGenders","isValidGender","indexOf","setGender","phone","setPhoneNumber","address","city","setHomeCity","country","setCountry","appBoyTraits","Object","entries","forEach","sanitized","setCustomUserAttribute","track","eventName","revenue","extractRevenue","properties","attributionData","unknownToString","source","name","ad_group","ad_creative","setAttributionData","logPurchaseEvent","logCustomEvent","flush","parseFloat","currency","length","appBoyProperties","assign","products","slice","product","productDict","productId","product_id","productRevenue","productQuantity","quantity","price","productProperties","logPurchase","String","exports"],"sourceRoot":"../../src","sources":["BrazePlugin.tsx"],"mappings":"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"}
