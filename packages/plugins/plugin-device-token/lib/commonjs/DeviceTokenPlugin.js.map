{"version":3,"names":["_analyticsReactNative","require","_reactNative","_messaging","_interopRequireDefault","obj","__esModule","default","DeviceTokenPlugin","PlatformPlugin","type","PluginType","enrichment","authStatus","checkUserPermission","configure","analytics","isAuthorized","undefined","token","getDeviceToken","setDeviceToken","logger","warn","error","reportInternalError","SegmentError","ErrorType","PluginError","Platform","OS","messaging","getAPNSToken","deviceToken","getToken","length","context","set","device","track","updatePermissionStatus","hasPermission","exports"],"sourceRoot":"../../src","sources":["DeviceTokenPlugin.tsx"],"mappings":"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"}
