{"version":3,"names":["SegmentClient","getMockLogger","MockSegmentStore","Platform","DeviceTokenPlugin","mockRequestPermission","jest","fn","mockReturnValue","mockGetAPNSToken","mockGetDeviceToken","mock","getAPNSToken","getToken","hasPermission","OS","select","describe","store","clientArgs","logger","config","writeKey","trackApplicationLifecycleEvents","flushInterval","plugin","beforeEach","reset","clearAllMocks","it","analytics","configure","expect","toHaveBeenCalled","toHaveReturnedWith","updatePermissionStatus","token","context","get","toEqual","device"],"sourceRoot":"../../../../src","sources":["methods/___tests__/DeviceTokenPlugin.test.ts"],"mappings":"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"}
