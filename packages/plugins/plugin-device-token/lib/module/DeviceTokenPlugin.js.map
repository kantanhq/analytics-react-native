{"version":3,"names":["PlatformPlugin","PluginType","ErrorType","SegmentError","Platform","messaging","DeviceTokenPlugin","type","enrichment","authStatus","checkUserPermission","configure","analytics","isAuthorized","undefined","token","getDeviceToken","setDeviceToken","logger","warn","error","reportInternalError","PluginError","OS","getAPNSToken","deviceToken","getToken","length","context","set","device","track","updatePermissionStatus","hasPermission"],"sourceRoot":"../../src","sources":["DeviceTokenPlugin.tsx"],"mappings":"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"}
