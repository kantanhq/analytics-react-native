{"version":3,"names":["DestinationPlugin","PluginType","SegmentError","ErrorType","appsFlyer","identify","track","AppsflyerPlugin","constructor","props","timeToWaitForATTUserAuthorization","is_adset","undefined","is_ad_id","is_adset_id","type","destination","key","settings","hasRegisteredInstallCallback","hasRegisteredDeepLinkCallback","hasInitialized","update","_","defaultOpts","isDebug","onInstallConversionDataListener","appsflyerSettings","integrations","clientConfig","analytics","getConfig","trackAttributionData","registerConversionCallback","trackDeepLinks","registerDeepLinkCallback","registerUnifiedDeepLinkCallback","initSdk","devKey","appsFlyerDevKey","appId","appleAppID","onDeepLinkListener","error","message","reportInternalError","PluginError","logger","warn","JSON","stringify","event","onInstallConversionData","res","af_status","media_source","campaign","is_first_launch","adset_id","ad_id","adset","data","properties","provider","source","name","Object","assign","Boolean","parse","onAppOpenAttribution","status","onDeepLink","deepLinkStatus","DLValue","deepLink"],"sourceRoot":"../../src","sources":["AppsflyerPlugin.tsx"],"mappings":"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"}
